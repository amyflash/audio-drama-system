# æç®€å¹¿æ’­å‰§ç³»ç»Ÿ (Minimalist Radio Drama System)

ä¸€ä¸ªæç®€é«˜æ•ˆçš„å¹¿æ’­å‰§éŸ³é¢‘ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒä¸“è¾‘ç®¡ç†ã€éŸ³é¢‘ä¸Šä¼ ã€åœ¨çº¿æ’­æ”¾å’Œç”¨æˆ·è®¤è¯ã€‚

---

## ç›®å½•

- [é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡](#é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [ç”¨æˆ·è§’è‰²ä¸æƒé™](#ç”¨æˆ·è§’è‰²ä¸æƒé™)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [APIæ¥å£](#apiæ¥å£)
- [éƒ¨ç½²è¯´æ˜](#éƒ¨ç½²è¯´æ˜)
- [æŠ€æœ¯æ–¹æ¡ˆç»†èŠ‚](#æŠ€æœ¯æ–¹æ¡ˆç»†èŠ‚)

---

## é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡

ä¸ºäº†å®ç°å¹¿æ’­å‰§ä¸“è¾‘èµ„æºçš„ç»Ÿä¸€ç®¡ç†åŠå—æ§åˆ†å‘ï¼Œæœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªè½»é‡çº§çš„ Web ç³»ç»Ÿã€‚ç®¡ç†å‘˜å¯ä¾¿æ·åœ°ä¸Šä¼ éŸ³é¢‘èµ„æºï¼Œæˆæƒç”¨æˆ·ï¼ˆæ™®é€šç”¨æˆ·ï¼‰ä»…å¯åœ¨çº¿æ”¶å¬ï¼Œä¸¥ç¦ä¸‹è½½ï¼Œä¸”ç³»ç»Ÿéœ€ä¸¥æ ¼æ§åˆ¶åŒæ—¶åœ¨çº¿äººæ•°ä¸Šé™ï¼Œä»¥ä¿è¯å¸¦å®½æˆæœ¬å’Œç‰ˆæƒä¿æŠ¤ã€‚

### æ ¸å¿ƒç›®æ ‡
- ğŸµ ç»Ÿä¸€çš„éŸ³é¢‘èµ„æºç®¡ç†å¹³å°
- ğŸ‘¥ åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆç®¡ç†å‘˜/æ™®é€šç”¨æˆ·ï¼‰
- ğŸ”’ é˜²ç›—é“¾å’Œé˜²ä¸‹è½½æœºåˆ¶
- ğŸ‘¥ åœ¨çº¿å¹¶å‘äººæ•°é™åˆ¶ï¼ˆé»˜è®¤10äººï¼‰
- ğŸ“± å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯

---

## åŠŸèƒ½ç‰¹æ€§

### ç®¡ç†å‘˜åŠŸèƒ½
- ğŸ“š **ä¸“è¾‘ç®¡ç†**
  - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ä¸“è¾‘
  - ä¸“è¾‘æœç´¢ï¼ˆæ ‡é¢˜/æè¿°ï¼‰
  - å°é¢å›¾ä¸Šä¼ 
  - ä¸“è¾‘æè¿°ç®¡ç†
- ğŸ§ **éŸ³é¢‘ç®¡ç†**
  - æ‰¹é‡ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶
  - æ”¯æŒMP3/FLAC/OGGç­‰æ ¼å¼
  - å‰§é›†æ ‡é¢˜ç¼–è¾‘
  - å‰§é›†æ’åº
  - åˆ é™¤å‰§é›†
  - å‰§é›†æœç´¢
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†**
  - æŸ¥çœ‹åœ¨çº¿ç”¨æˆ·çŠ¶æ€
  - æ§åˆ¶å¹¶å‘äººæ•°

### æ™®é€šç”¨æˆ·åŠŸèƒ½
- ğŸ” **ç”¨æˆ·è®¤è¯**
  - ç™»å½•/æ³¨é”€
  - Token è‡ªåŠ¨åˆ·æ–°
- ğŸ“š **éŸ³é¢‘æµè§ˆ**
  - æµè§ˆæ‰€æœ‰å…¬å¼€ä¸“è¾‘
  - æŸ¥çœ‹ä¸“è¾‘è¯¦æƒ…
  - æŸ¥çœ‹å‰§é›†åˆ—è¡¨
- ğŸ§ **åœ¨çº¿æ’­æ”¾**
  - æµå¼æ’­æ”¾éŸ³é¢‘
  - æ’­æ”¾/æš‚åœæ§åˆ¶
  - å¿«è¿›/å¿«é€€ï¼ˆ10ç§’ï¼‰
  - æ’­æ”¾è¿›åº¦æ¡
  - ç¼“å†²è¿›åº¦æ¡
  - è¿›åº¦è‡ªåŠ¨ä¿å­˜

### ç³»ç»Ÿç‰¹æ€§
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸ”’ **å®‰å…¨é˜²æŠ¤** - æµåª’ä½“ä»¤ç‰ŒéªŒè¯ï¼Œé˜²æ­¢ç›—é“¾
- ğŸ¨ **ç»¿è‰²ä¸»é¢˜** - ä¿æŠ¤è§†åŠ›çš„æ¸…æ–°UIè®¾è®¡
- ğŸ—ï¸ **éƒ¨ç½²ç®€å•** - Docker Composeä¸€é”®éƒ¨ç½²
- âš¡ **é«˜æ€§èƒ½** - Nuxt 3 SSRä¼˜åŒ–ï¼ŒFastAPIå¼‚æ­¥å¤„ç†
- ğŸ›ï¸ **è¿›ç¨‹ç®¡ç†** - PM2è‡ªåŠ¨é‡å¯ï¼Œç¨³å®šè¿è¡Œ

---

## ç”¨æˆ·è§’è‰²ä¸æƒé™

| è§’è‰² | æè¿° | æƒé™èŒƒå›´ |
| :--- | :--- | :--- |
| **Admin (ç®¡ç†å‘˜)** | ç³»ç»Ÿæ‰€æœ‰è€… | ä¸“è¾‘/éŸ³é¢‘çš„å¢åˆ æ”¹æŸ¥ã€æ‰¹é‡ä¸Šä¼ ã€èµ„æºç®¡ç†ã€æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ |
| **User (æ™®é€šç”¨æˆ·)** | æˆæƒå¬ä¼— | ç™»å½•ç³»ç»Ÿã€æµè§ˆä¸“è¾‘åˆ—è¡¨ã€åœ¨çº¿æ’­æ”¾éŸ³é¢‘ã€‚**æ— ä¸‹è½½æƒé™ï¼Œæ— ç®¡ç†æƒé™** |
| **Visitor (è®¿å®¢)** | æœªç™»å½•ç”¨æˆ· | ä»…å¯è®¿é—®ç™»å½•é¡µã€‚è‹¥å°è¯•è®¿é—®å†…å®¹æˆ–æ’­æ”¾ï¼Œå°†è¢«å¼ºåˆ¶è·³è½¬è‡³ç™»å½•é¡µ |

---

## æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI** - é«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **Redis** - ä¼šè¯ç®¡ç†å’Œåœ¨çº¿äººæ•°ç»Ÿè®¡
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²
- **Python 3.10+** - å¼€å‘è¯­è¨€

### å‰ç«¯
- **Nuxt 3** - Vue 3 å…ƒæ¡†æ¶
- **Vue 3** - æ¸è¿›å¼æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Pinia** - çŠ¶æ€ç®¡ç†
- **Tailwind CSS** - åŸå­åŒ–CSS
- **Axios** - HTTP å®¢æˆ·ç«¯
- **PM2** - è¿›ç¨‹ç®¡ç†
- **Node.js 22+** - è¿è¡Œç¯å¢ƒ

### åå‘ä»£ç†
- **Caddy** - è‡ªåŠ¨SSLè¯ä¹¦ç®¡ç†ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

---

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker & Docker Compose
- Node.js 22+ (å‰ç«¯å¼€å‘)
- Python 3.10+ (åç«¯å¼€å‘)

### ä¸€é”®éƒ¨ç½²

```bash
git clone https://github.com/amyflash/audio-drama-system.git
cd audio-drama-system
docker-compose up -d
```

### å‰ç«¯å¼€å‘æ¨¡å¼

```bash
cd nuxt-frontend
npm install
npm run dev
# è®¿é—® http://localhost:5173
```

### åç«¯å¼€å‘æ¨¡å¼

```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload
# åœ¨çº¿äººæ•°é™åˆ¶å’Œä¼šè¯ç®¡ç†æ­£å¸¸å·¥ä½œ
```

### PM2 ç®¡ç†ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# å¯åŠ¨ Nuxt å‰ç«¯
cd /home/duoduo/.openclaw/workspace/audio-drama-system
pm2 start ecosystem-nuxt.config.js
pm2 save

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs audio-drama-nuxt
```

### è®¿é—®åœ°å€

- **å‰ç«¯**: http://localhost:5173 (å¼€å‘) / https://q.1006868.xyz (ç”Ÿäº§)
- **åç«¯API**: http://localhost:8000 (å¼€å‘) / https://h.1006868.xyz (ç”Ÿäº§)
- **APIæ–‡æ¡£**: http://localhost:8000/docs (å¼€å‘) / https://h.1006868.xyz/docs (ç”Ÿäº§)

### é»˜è®¤è´¦å·

- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `123456`
- **è§’è‰²**: ç®¡ç†å‘˜

---

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
audio-drama-system/
â”œâ”€â”€ backend/              # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/         # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py  # è®¤è¯æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ albums.py # ä¸“è¾‘ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ episodes.py # å‰§é›†ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ stream.py # éŸ³é¢‘æµæ¥å£
â”‚   â”‚   â”œâ”€â”€ core/        # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ db/          # æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ models/      # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ main.py      # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ nuxt-frontend/       # Nuxt 3 å‰ç«¯
â”‚   â”œâ”€â”€ pages/           # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ login.vue    # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ index.vue    # ä¸“è¾‘åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ albums/
â”‚   â”‚   â”‚   â””â”€â”€ [id].vue # ä¸“è¾‘è¯¦æƒ…
â”‚   â”‚   â””â”€â”€ player/
â”‚   â”‚       â””â”€â”€ [id].vue # æ’­æ”¾å™¨
â”‚   â”œâ”€â”€ plugins/         # Nuxt æ’ä»¶
â”‚   â”‚   â””â”€â”€ api.ts       # Axios API å°è£…
â”‚   â”œâ”€â”€ api/             # API æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ album.ts
â”‚   â”‚   â””â”€â”€ episode.ts
â”‚   â”œâ”€â”€ stores/          # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ nuxt.config.ts   # Nuxt é…ç½®
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ ecosystem-nuxt.config.js  # PM2 é…ç½®
â”œâ”€â”€ start-nuxt.sh        # Nuxt å¯åŠ¨è„šæœ¬
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

### åç«¯ä¾èµ–å®‰è£…

```bash
cd backend
pip install -r requirements.txt
```

ä¸»è¦ä¾èµ–ï¼š
- fastapi - Web æ¡†æ¶
- uvicorn - ASGI æœåŠ¡å™¨
- sqlalchemy - ORM
- redis - Redis å®¢æˆ·ç«¯
- python-jose - JWT å¤„ç†
- mutagen - éŸ³é¢‘å…ƒæ•°æ®è§£æ
- passlib - å¯†ç å“ˆå¸Œ

### å‰ç«¯ä¾èµ–å®‰è£…

```bash
cd nuxt-frontend
npm install
```

ä¸»è¦ä¾èµ–ï¼š
- nuxt - Nuxt 3 æ¡†æ¶
- vue - Vue 3
- pinia - çŠ¶æ€ç®¡ç†
- axios - HTTP å®¢æˆ·ç«¯
- @nuxtjs/tailwindcss - Tailwind CSS é›†æˆ

---

## APIæ¥å£

è¯¦ç»† API æ–‡æ¡£ï¼šhttp://localhost:8000/docs

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•ï¼ˆå«å¹¶å‘æ§åˆ¶ï¼‰
- `POST /api/auth/logout` - ç”¨æˆ·é€€å‡ºï¼ˆæ¸…é™¤ Redis Sessionï¼‰
- `POST /api/auth/heartbeat` - å¿ƒè·³ä¿æ´»ï¼ˆåˆ·æ–° Session TTLï¼‰
- `GET /api/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

### ä¸“è¾‘ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- `GET /api/admin/albums` - è·å–ä¸“è¾‘åˆ—è¡¨
- `POST /api/admin/albums` - åˆ›å»ºä¸“è¾‘
- `GET /api/admin/albums/{id}` - è·å–ä¸“è¾‘è¯¦æƒ…
- `PUT /api/admin/albums/{id}` - æ›´æ–°ä¸“è¾‘
- `DELETE /api/admin/albums/{id}` - åˆ é™¤ä¸“è¾‘

### å‰§é›†ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
- `GET /api/admin/albums/{id}/episodes` - è·å–å‰§é›†åˆ—è¡¨
- `POST /api/admin/albums/{id}/episodes` - åˆ›å»ºå‰§é›†
- `GET /api/admin/episodes/{id}` - è·å–å‰§é›†è¯¦æƒ…
- `PUT /api/admin/episodes/{id}` - æ›´æ–°å‰§é›†
- `DELETE /api/admin/episodes/{id}` - åˆ é™¤å‰§é›†
- `POST /api/admin/episodes/{id}/upload` - ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶
- `POST /api/admin/albums/{id}/episodes/batch-upload` - æ‰¹é‡ä¸Šä¼ éŸ³é¢‘

### éŸ³é¢‘æµï¼ˆç”¨æˆ·ï¼‰
- `GET /api/stream/token/{episode_id}` - è·å–æµåª’ä½“ä»¤ç‰Œï¼ˆ10åˆ†é’Ÿæœ‰æ•ˆæœŸï¼‰
- `GET /api/stream/{episode_id}` - éŸ³é¢‘æµæ’­æ”¾ï¼ˆéœ€è¦ä»¤ç‰Œè®¤è¯ï¼‰

---

## éƒ¨ç½²è¯´æ˜

### Docker Compose éƒ¨ç½²

```bash
docker-compose up -d
```

### ç¯å¢ƒå˜é‡é…ç½®

åç«¯ç¯å¢ƒå˜é‡ (`docker-compose.yml`):

```yaml
environment:
  - DATABASE_URL=sqlite:///./data/audio_drama.db
  - REDIS_URL=redis://redis:6379/0
  - SECRET_KEY=your-secret-key
  - JWT_SECRET_KEY=your-jwt-secret
  - MAX_CONCURRENT_USERS=10
  - SESSION_EXPIRE_SECONDS=1800
  - UPLOAD_MAX_FILE_SIZE=104857600  # 100MB
  - DEFAULT_ADMIN_PASSWORD=123456
```

### ä½¿ç”¨ Caddy è‡ªåŠ¨ SSL

1. å¤åˆ¶ Caddy é…ç½®:
```bash
sudo cp Caddyfile /etc/caddy/Caddyfile
sudo systemctl restart caddy
```

2. åŸŸåé…ç½®ç¤ºä¾‹:
```
q.1006868.xyz {
    reverse_proxy localhost:5173
}

h.1006868.xyz {
    reverse_proxy localhost:8000
}
```

### PM2 ç”Ÿäº§éƒ¨ç½²

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨ Nuxt å‰ç«¯
cd audio-drama-system
pm2 start ecosystem-nuxt.config.js

# ä¿å­˜ PM2 é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup systemd
```

---

## æŠ€æœ¯æ–¹æ¡ˆç»†èŠ‚

### 1. å¹¶å‘æ§åˆ¶ï¼ˆ10äººé™åˆ¶ï¼‰

åˆ©ç”¨ Redis çš„ `keys` æ“ä½œå’Œ `setex` (Set with Expiry) åŠŸèƒ½å®ç°ï¼š

**å­˜å‚¨é”®è®¾è®¡**ï¼š
- Key: `session:{user_id}`
- Value: `token`
- TTL: 1800s (30åˆ†é’Ÿ)

**ç™»å½•æ ¡éªŒæµç¨‹**ï¼š
1. è¯·æ±‚åˆ°è¾¾ `/api/auth/login`
2. æŸ¥è¯¢ Redis `keys session:*` è·å–å½“å‰æ‰€æœ‰åœ¨çº¿ Key
3. è‹¥ç”¨æˆ·ä¸åœ¨çº¿ä¸”æ€»æ•° >= 10ï¼Œè¿”å› HTTP 403
4. å¦åˆ™ï¼Œæ ¡éªŒå¯†ç é€šè¿‡åï¼Œæ‰§è¡Œ `redis_client.setex(...)`

**å¿ƒè·³ä¿æ´»**ï¼š
- å‰ç«¯æ¯éš” 15 åˆ†é’Ÿè¯·æ±‚ä¸€æ¬¡ `/api/auth/heartbeat`
- åç«¯æ‰§è¡Œ `redis_client.expire(session_key, 1800)` åˆ·æ–°è¿‡æœŸæ—¶é—´

### 2. é˜²ä¸‹è½½éŸ³é¢‘æµæ–¹æ¡ˆ

**æ ¸å¿ƒåŸåˆ™**ï¼šç‰©ç†æ–‡ä»¶è·¯å¾„ä¸ä»¥å…¬å¼€ URL å½¢å¼ç›´æ¥æš´éœ²ï¼Œè€Œæ˜¯é€šè¿‡åŠ¨æ€ API ä»£ç†ï¼š

**API å®šä¹‰**ï¼š
- `GET /api/stream/{episode_id}`

**åç«¯é€»è¾‘**ï¼š
1. æ¥æ”¶è¯·æ±‚ï¼ŒéªŒè¯ Token æœ‰æ•ˆæ€§
2. æ ¹æ® `episode_id` æŸ¥åº“å¾—åˆ°ç‰©ç†è·¯å¾„
3. ä½¿ç”¨ `FileResponse(path, media_type='audio/mpeg')` è¿”å›æ–‡ä»¶æµ
4. æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆRange è¯·æ±‚ï¼‰

**å‰ç«¯é€»è¾‘**ï¼š
1. æ’­æ”¾å™¨åŠ è½½å‰ï¼Œè°ƒç”¨ `/api/stream/token/{episode_id}` è·å–ä¸´æ—¶ Token
2. åœ¨éŸ³é¢‘ URL ä¸­æ·»åŠ  Token å‚æ•°ï¼š`?token=xxx`
3. Token æœ‰æ•ˆæœŸ 10 åˆ†é’Ÿï¼Œç»‘å®š user_id å’Œ episode_id

**ç»“æœ**ï¼š
- ç”¨æˆ·åªèƒ½é€šè¿‡å¸¦ Token çš„ API è·å–æµ
- æµè§ˆå™¨æ— æ³•æ‰§è¡Œ"å¦å­˜ä¸º"ï¼ˆURL æ˜¯åŠ¨æ€é€»è¾‘çš„ï¼‰
- Token å¤±æ•ˆå³æ–­æµ

### 3. æ•°æ®åº“è®¾è®¡

#### æ•°æ®è¡¨ç»“æ„
- **user (ç”¨æˆ·è¡¨)**
  - `id` (PK, Int): è‡ªå¢ID
  - `username` (Varchar): ç™»å½•è´¦å·
  - `password_hash` (Varchar): å¯†ç å“ˆå¸Œ
  - `role` (Varchar): 'admin' æˆ– 'user'
  - `is_superuser` (Boolean): æ˜¯å¦è¶…çº§ç”¨æˆ·

- **album (ä¸“è¾‘è¡¨)**
  - `id` (PK, Int): ä¸“è¾‘ID
  - `title` (Varchar): ä¸“è¾‘å
  - `cover_image` (Varchar): å°é¢å›¾è·¯å¾„
  - `description` (Text): ç®€ä»‹
  - `episode_count` (Int): å‰§é›†æ•°é‡
  - `created_at` (Datetime): åˆ›å»ºæ—¶é—´
  - `updated_at` (Datetime): æ›´æ–°æ—¶é—´

- **episode (å•é›†è¡¨)**
  - `id` (PK, Int): å•é›†ID
  - `album_id` (FK, Int): æ‰€å±ä¸“è¾‘ID
  - `title` (Varchar): æ ‡é¢˜
  - `file_path` (Varchar, nullable): æœåŠ¡å™¨å­˜å‚¨è·¯å¾„
  - `file_size` (Int): æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  - `duration` (Int): æ—¶é•¿ï¼ˆç§’ï¼‰
  - `sort_order` (Int): æ’åºæƒé‡
  - `created_at` (Datetime): åˆ›å»ºæ—¶é—´

- **session (ä¼šè¯è¡¨)**
  - `id` (PK, Int): ä¼šè¯ID
  - `user_id` (FK, Int): ç”¨æˆ·ID
  - `token` (Varchar): ä¼šè¯ä»¤ç‰Œ
  - `ip_address` (Varchar): IP åœ°å€
  - `user_agent` (Text): User Agent
  - `expires_at` (Datetime): è¿‡æœŸæ—¶é—´

---

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç”Ÿäº§ç¯å¢ƒå®‰å…¨**
   - ä¿®æ”¹é»˜è®¤å¯†ç å’Œå¯†é’¥
   - å¯ç”¨ HTTPSï¼ˆCaddy è‡ªåŠ¨é…ç½®ï¼‰
   - å®šæœŸå¤‡ä»½æ•°æ®åº“å’Œåª’ä½“æ–‡ä»¶
   - é™åˆ¶æ–‡ä»¶ä¸Šä¼ å¤§å°

2. **å­˜å‚¨å»ºè®®**
   - å°† `/media` ç›®å½•æŒ‚è½½åˆ°æŒä¹…åŒ–å­˜å‚¨
   - å®šæœŸæ¸…ç†è¿‡æœŸçš„ä¼šè¯å’Œä¸´æ—¶æ–‡ä»¶

3. **å¤‡ä»½ç­–ç•¥**
   - å®šæœŸå¤‡ä»½ SQLite æ•°æ®åº“
   - å¤‡ä»½éŸ³é¢‘æ–‡ä»¶ç›®å½•
   - å¤‡ä»½ Redis æ•°æ®ï¼ˆå¦‚éœ€è¦ï¼‰

---

## æ›´æ–°æ—¥å¿—

### v2.0.0 (2026-03-01)
- âœ… **å‰ç«¯è¿ç§»è‡³ Nuxt 3** - ä» Vite è¿ç§»åˆ° Nuxt 3 æ¡†æ¶
- âœ… **ä¸“è¾‘ç®¡ç†å¢å¼º** - æ–°å¢æœç´¢ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½
- âœ… **å‰§é›†ç®¡ç†å¢å¼º** - æ–°å¢æœç´¢ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½
- âœ… **UI ä¼˜åŒ–** - ç»¿è‰²ä¸»é¢˜è®¾è®¡ï¼Œå·¦æ»‘æ˜¾ç¤ºæ“ä½œæŒ‰é’®
- âœ… **éŸ³é¢‘æµè®¤è¯** - Token æœºåˆ¶ï¼Œé˜²æ­¢ç›—é“¾ä¸‹è½½
- âœ… **PM2 ç®¡ç†** - è¿›ç¨‹è‡ªåŠ¨é‡å¯ï¼Œç¨³å®šè¿è¡Œ
- âœ… **ä¿®å¤éŸ³é¢‘æ’­æ”¾** - è§£å†³ 401 è®¤è¯é—®é¢˜
- âœ… **ç§»åŠ¨ç«¯ä¼˜åŒ–** - å®Œç¾å“åº”å¼é€‚é…

### v1.0.0 (2026-02-28)
- âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæˆ
- âœ… å‰åç«¯åˆ†ç¦»æ¶æ„
- âœ… Docker éƒ¨ç½²æ”¯æŒ
- âœ… ç§»åŠ¨ç«¯å“åº”å¼é€‚é…
- âœ… é›¶å¤–éƒ¨UIä¾èµ–ï¼ˆçº¯åŸç”Ÿå®ç°ï¼‰

---

## è®¸å¯è¯

MIT License

---

## ä½œè€…

**çªçª (Duoduo)** - éŸ³é¢‘çˆ±å¥½è€… & æå®¢ç¨‹åºå‘˜

- GitHub: [@amyflash](https://github.com/amyflash)
- é¡¹ç›®: [æç®€å¹¿æ’­å‰§ç³»ç»Ÿ](https://github.com/amyflash/audio-drama-system)

---

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºå¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼
